// Demo data for large house builder (Developer) demonstration
// Company: "Horizon Homes" - a major UK residential developer

export const developerCompany = {
  name: "Horizon Homes",
  tagline: "Building Tomorrow's Communities",
  regions: ["London", "South East", "Midlands", "North West"],
};

// Developments (projects)
export const developerDevelopments = [
  {
    id: "dev_1",
    name: "Thames Gateway Village",
    location: "Woolwich, London",
    region: "London",
    priceRange: "Â£425,000 - Â£1,200,000",
    units: 450,
    unitsSold: 312,
    status: "live",
    image: "ðŸ¢",
    launchDate: "2024-03-15",
  },
  {
    id: "dev_2", 
    name: "Meridian Heights",
    location: "Stratford, London",
    region: "London",
    priceRange: "Â£380,000 - Â£850,000",
    units: 280,
    unitsSold: 195,
    status: "live",
    image: "ðŸ—ï¸",
    launchDate: "2024-06-01",
  },
  {
    id: "dev_3",
    name: "Parkside Quarter",
    location: "Reading, Berkshire",
    region: "South East",
    priceRange: "Â£295,000 - Â£620,000",
    units: 180,
    unitsSold: 98,
    status: "live",
    image: "ðŸŒ³",
    launchDate: "2024-08-20",
  },
  {
    id: "dev_4",
    name: "Victoria Gardens",
    location: "Manchester City Centre",
    region: "North West",
    priceRange: "Â£220,000 - Â£485,000",
    units: 320,
    unitsSold: 245,
    status: "live",
    image: "ðŸŒº",
    launchDate: "2024-01-10",
  },
  {
    id: "dev_5",
    name: "Waterside Crescent",
    location: "Birmingham, Jewellery Quarter",
    region: "Midlands",
    priceRange: "Â£195,000 - Â£420,000",
    units: 150,
    unitsSold: 150,
    status: "sold-out",
    image: "âœ…",
    launchDate: "2023-06-15",
  },
  {
    id: "dev_6",
    name: "Kensington Place",
    location: "Kensington, London",
    region: "London",
    priceRange: "Â£1,500,000 - Â£4,500,000",
    units: 45,
    unitsSold: 12,
    status: "pre-launch",
    image: "ðŸ’Ž",
    launchDate: "2025-03-01",
  },
];

// Demo campaigns for developer - realistic lead volumes for a large developer
// Total spend: Â£85,800 | Total leads: 247 | Avg CPL: Â£347
export const developerCampaigns = [
  // Thames Gateway Village campaigns (68 leads total)
  {
    "Campaign Name": "Thames Gateway - Nigeria HNWI Q4",
    "Campaign name": "Thames Gateway - Nigeria HNWI Q4",
    "Amount spent (GBP)": 8500,
    Spend: 8500,
    Results: 24,
    Impressions: 285000,
    Reach: 180000,
    Clicks: 4800,
    CTR: 1.68,
    CPC: 1.77,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-10-01",
  },
  {
    "Campaign Name": "Thames Gateway - UAE Investors",
    "Campaign name": "Thames Gateway - UAE Investors",
    "Amount spent (GBP)": 6200,
    Spend: 6200,
    Results: 18,
    Impressions: 195000,
    Reach: 125000,
    Clicks: 3200,
    CTR: 1.64,
    CPC: 1.94,
    Platform: "Instagram",
    Status: "Active",
    "Reporting starts": "2024-10-15",
  },
  {
    "Campaign Name": "Thames Gateway - UK First Time Buyers",
    "Campaign name": "Thames Gateway - UK First Time Buyers",
    "Amount spent (GBP)": 4800,
    Spend: 4800,
    Results: 26,
    Impressions: 420000,
    Reach: 280000,
    Clicks: 6800,
    CTR: 1.62,
    CPC: 0.71,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-09-01",
  },
  // Meridian Heights campaigns (56 leads total)
  {
    "Campaign Name": "Meridian Heights - Hong Kong Investors",
    "Campaign name": "Meridian Heights - Hong Kong Investors",
    "Amount spent (GBP)": 12500,
    Spend: 12500,
    Results: 32,
    Impressions: 340000,
    Reach: 220000,
    Clicks: 5600,
    CTR: 1.65,
    CPC: 2.23,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-09-15",
  },
  {
    "Campaign Name": "Meridian Heights - Singapore BTL",
    "Campaign name": "Meridian Heights - Singapore BTL",
    "Amount spent (GBP)": 5800,
    Spend: 5800,
    Results: 24,
    Impressions: 145000,
    Reach: 95000,
    Clicks: 2400,
    CTR: 1.66,
    CPC: 2.42,
    Platform: "Instagram",
    Status: "Active",
    "Reporting starts": "2024-10-01",
  },
  // Parkside Quarter campaigns (38 leads total)
  {
    "Campaign Name": "Parkside Quarter - Local Families",
    "Campaign name": "Parkside Quarter - Local Families",
    "Amount spent (GBP)": 3200,
    Spend: 3200,
    Results: 22,
    Impressions: 280000,
    Reach: 185000,
    Clicks: 4200,
    CTR: 1.50,
    CPC: 0.76,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-10-10",
  },
  {
    "Campaign Name": "Parkside Quarter - London Commuters",
    "Campaign name": "Parkside Quarter - London Commuters",
    "Amount spent (GBP)": 2800,
    Spend: 2800,
    Results: 16,
    Impressions: 195000,
    Reach: 130000,
    Clicks: 3100,
    CTR: 1.59,
    CPC: 0.90,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-10-20",
  },
  // Victoria Gardens campaigns (45 leads total)
  {
    "Campaign Name": "Victoria Gardens - Manchester Professionals",
    "Campaign name": "Victoria Gardens - Manchester Professionals",
    "Amount spent (GBP)": 4500,
    Spend: 4500,
    Results: 28,
    Impressions: 380000,
    Reach: 250000,
    Clicks: 5800,
    CTR: 1.53,
    CPC: 0.78,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-09-01",
  },
  {
    "Campaign Name": "Victoria Gardens - BTL Investors UK",
    "Campaign name": "Victoria Gardens - BTL Investors UK",
    "Amount spent (GBP)": 3800,
    Spend: 3800,
    Results: 17,
    Impressions: 165000,
    Reach: 110000,
    Clicks: 2800,
    CTR: 1.70,
    CPC: 1.36,
    Platform: "Instagram",
    Status: "Active",
    "Reporting starts": "2024-10-05",
  },
  // Kensington Place campaigns (20 leads total - luxury = fewer leads, higher CPL)
  {
    "Campaign Name": "Kensington Place - UHNWI Global",
    "Campaign name": "Kensington Place - UHNWI Global",
    "Amount spent (GBP)": 18500,
    Spend: 18500,
    Results: 12,
    Impressions: 85000,
    Reach: 55000,
    Clicks: 1200,
    CTR: 1.41,
    CPC: 15.42,
    Platform: "Facebook",
    Status: "Active",
    "Reporting starts": "2024-11-01",
  },
  {
    "Campaign Name": "Kensington Place - Middle East VIP",
    "Campaign name": "Kensington Place - Middle East VIP",
    "Amount spent (GBP)": 15200,
    Spend: 15200,
    Results: 8,
    Impressions: 62000,
    Reach: 40000,
    Clicks: 890,
    CTR: 1.44,
    CPC: 17.08,
    Platform: "Instagram",
    Status: "Active",
    "Reporting starts": "2024-11-10",
  },
];

// Helper to generate realistic leads
const generateLeads = () => {
  const leads = [];
  const now = Date.now();
  const day = 24 * 60 * 60 * 1000;
  
  // Lead templates by development
  const developments = [
    { name: "Thames Gateway Village", campaigns: ["Thames Gateway - Nigeria HNWI Q4", "Thames Gateway - UAE Investors", "Thames Gateway - UK First Time Buyers"], count: 68 },
    { name: "Meridian Heights", campaigns: ["Meridian Heights - Hong Kong Investors", "Meridian Heights - Singapore BTL"], count: 56 },
    { name: "Parkside Quarter", campaigns: ["Parkside Quarter - Local Families", "Parkside Quarter - London Commuters"], count: 38 },
    { name: "Victoria Gardens", campaigns: ["Victoria Gardens - Manchester Professionals", "Victoria Gardens - BTL Investors UK"], count: 45 },
    { name: "Kensington Place", campaigns: ["Kensington Place - UHNWI Global", "Kensington Place - Middle East VIP"], count: 20 },
  ];

  const statuses = ["New", "Contacted", "Engaged", "Viewing Booked", "Offer Made"];
  const statusWeights = [35, 25, 20, 15, 5]; // Distribution
  
  const countries = ["United Kingdom", "Nigeria", "UAE", "Hong Kong", "Singapore", "India", "Switzerland", "Ireland", "China"];
  const platforms = ["Facebook", "Instagram"];
  const timelines = ["Within 28 days", "0-3 months", "3-6 months", "6-9 months"];
  const timelineWeights = [15, 35, 35, 15];
  
  const firstNames = ["James", "Emma", "Oliver", "Sophia", "William", "Ava", "Benjamin", "Isabella", "Lucas", "Mia", "Henry", "Charlotte", "Alexander", "Amelia", "Daniel", "Harper", "Matthew", "Evelyn", "Joseph", "Abigail", "David", "Emily", "Andrew", "Elizabeth", "Michael", "Sofia", "Christopher", "Victoria", "John", "Grace", "Ryan", "Chloe", "Nathan", "Ella", "Samuel", "Scarlett", "Tyler", "Madison", "Brandon", "Luna", "Chukwuemeka", "Adaeze", "Mohammed", "Fatima", "Wei", "Mei", "Raj", "Priya", "Abdullah", "Aisha"];
  const lastNames = ["Smith", "Johnson", "Williams", "Brown", "Jones", "Garcia", "Miller", "Davis", "Rodriguez", "Martinez", "Wilson", "Anderson", "Taylor", "Thomas", "Moore", "Jackson", "Martin", "Lee", "Thompson", "White", "Harris", "Clark", "Lewis", "Robinson", "Walker", "Hall", "Young", "King", "Wright", "Hill", "Chen", "Wang", "Liu", "Zhang", "Obi", "Okonkwo", "Adeyemi", "Al-Rashid", "Khan", "Patel", "Sharma", "Singh", "Rothschild", "Cohen"];
  
  const budgetRanges = {
    "Thames Gateway Village": ["Â£400,000 - Â£600,000", "Â£600,000 - Â£800,000", "Â£800,000 - Â£1,200,000"],
    "Meridian Heights": ["Â£380,000 - Â£500,000", "Â£500,000 - Â£700,000", "Â£700,000 - Â£850,000"],
    "Parkside Quarter": ["Â£295,000 - Â£400,000", "Â£400,000 - Â£500,000", "Â£500,000 - Â£620,000"],
    "Victoria Gardens": ["Â£220,000 - Â£300,000", "Â£300,000 - Â£400,000", "Â£400,000 - Â£485,000"],
    "Kensington Place": ["Â£1,500,000 - Â£2,500,000", "Â£2,500,000 - Â£3,500,000", "Â£3,000,000+"],
  };
  
  const bedrooms = ["1 bed", "2 bed", "2-3 bed", "3 bed", "3-4 bed", "Penthouse"];
  
  const weightedRandom = (weights: number[]) => {
    const total = weights.reduce((a, b) => a + b, 0);
    let random = Math.random() * total;
    for (let i = 0; i < weights.length; i++) {
      random -= weights[i];
      if (random <= 0) return i;
    }
    return weights.length - 1;
  };

  let leadId = 1;
  
  developments.forEach(dev => {
    for (let i = 0; i < dev.count; i++) {
      const statusIdx = weightedRandom(statusWeights);
      const status = statuses[statusIdx];
      const timelineIdx = weightedRandom(timelineWeights);
      const timeline = timelines[timelineIdx];
      const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
      const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
      const country = countries[Math.floor(Math.random() * countries.length)];
      const platform = platforms[Math.floor(Math.random() * platforms.length)];
      const campaign = dev.campaigns[Math.floor(Math.random() * dev.campaigns.length)];
      const budgets = budgetRanges[dev.name as keyof typeof budgetRanges];
      const budget = budgets[Math.floor(Math.random() * budgets.length)];
      const bedroom = bedrooms[Math.floor(Math.random() * bedrooms.length)];
      const daysAgo = Math.floor(Math.random() * 45) + 1;
      const cashBuyer = Math.random() > 0.6 ? "Cash" : "Mortgage";
      const ready28 = timeline === "Within 28 days" || (timeline === "0-3 months" && Math.random() > 0.7) ? "Yes" : "No";
      
      const summaries = [
        `Interested in ${bedroom} property. ${cashBuyer} buyer.`,
        `Looking for investment opportunity. ${timeline} timeline.`,
        `Relocating to area. Motivated buyer.`,
        `Portfolio investor seeking BTL opportunity.`,
        `First-time buyer with mortgage pre-approval.`,
        `Downsizer looking for modern apartment.`,
        `Family expanding, needs more space.`,
        `Professional relocating for work.`,
      ];
      
      leads.push({
        "Lead ID": `DEV${String(leadId).padStart(3, '0')}`,
        "Name": `${firstName} ${lastName}`,
        "Email": `${firstName.toLowerCase()}.${lastName.toLowerCase()}@email.com`,
        "Phone Number": country === "United Kingdom" ? `+44 7${Math.floor(Math.random() * 900 + 100)} ${Math.floor(Math.random() * 900000 + 100000)}` : `+${Math.floor(Math.random() * 900 + 100)} ${Math.floor(Math.random() * 9000000 + 1000000)}`,
        "Country": country,
        "Budget Range": budget,
        "Preferred Bedrooms": bedroom,
        "Timeline to Purchase": timeline,
        "Status": status,
        "Source Platform": platform,
        "Campaign": campaign,
        "Development": dev.name,
        "Date Added": new Date(now - daysAgo * day).toISOString(),
        "Buyer Summary": summaries[Math.floor(Math.random() * summaries.length)],
        "Cash/Mortgage": cashBuyer,
        "Are you ready to purchase within 28 days?": ready28,
      });
      
      leadId++;
    }
  });
  
  return leads;
};

// Generate 247 leads to match campaign results
export const developerLeads = generateLeads();

// Calculate summary stats
export const getDeveloperStats = () => {
  const totalLeads = developerLeads.length;
  const hotLeads = developerLeads.filter(l => 
    l.Status.includes('Viewing') || l.Status.includes('Offer')
  ).length;
  
  const totalSpend = developerCampaigns.reduce((sum, c) => sum + (c.Spend || 0), 0);
  const totalResults = developerCampaigns.reduce((sum, c) => sum + (c.Results || 0), 0);
  const avgCPL = totalResults > 0 ? totalSpend / totalResults : 0;
  
  const viewingsBooked = developerLeads.filter(l => l.Status.includes('Viewing')).length;
  const offersReceived = developerLeads.filter(l => l.Status.includes('Offer')).length;
  
  return {
    totalLeads,
    hotLeads,
    totalSpend,
    avgCPL,
    viewingsBooked,
    offersReceived,
    totalDevelopments: developerDevelopments.filter(d => d.status === 'live').length,
    totalUnits: developerDevelopments.reduce((sum, d) => sum + d.units, 0),
    unitsSold: developerDevelopments.reduce((sum, d) => sum + d.unitsSold, 0),
  };
};
